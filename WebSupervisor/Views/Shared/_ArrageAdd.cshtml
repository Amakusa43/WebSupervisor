<div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div id="tab1" class="tab_content" style="display: block; ">
                    <div class="po-right">
                        <form>
                            <select id="week">
                                <option value="0" id="0">请选择周次</option>
                                <option value="1">第一周</option>
                                <option value="2">第二周</option>
                                <option value="3">第三周</option>
                                <option value="4">第四周</option>
                                <option value="5">第五周</option>
                                <option value="6">第六周</option>
                                <option value="7">第七周</option>
                                <option value="8">第八周</option>
                                <option value="9">第九周</option>
                                <option value="10">第十周</option>
                                <option value="11">第十一周</option>
                                <option value="12">第十二周</option>
                                <option value="13">第十三周</option>
                                <option value="14">第十四周</option>
                                <option value="15">第十五周</option>
                                <option value="16">第十六周</option>
                                <option value="17">第十七周</option>
                                <option value="18">第十八周</option>
                                <option value="19">第十九周</option>
                                <option value="20">第二十周</option>
                            </select>
                            <select id="day">
                                <option value="0" id="0">请选择星期</option>
                                <option value="1">星期一</option>
                                <option value="2">星期二</option>
                                <option value="3">星期三</option>
                                <option value="4">星期四</option>
                                <option value="5">星期五</option>
                                <option value="6">星期六</option>
                                <option value="7">星期日</option>
                            </select>
                            <select id="classnumber">
                                <option value="0" id="0">请选择节次</option>
                                <option value="12">1-2</option>
                                <option value="13">1-3</option>
                                <option value="23">2-3</option>
                                <option value="24">2-4</option>
                                <option value="34">3-4</option>
                                <option value="35">3-5</option>
                                <option value="45">4-5</option>
                                <option value="67">6-7</option>
                                <option value="68">6-8</option>
                                <option value="78">7-8</option>
                                <option value="89">8-9</option>
                                <option value="1011">10-11</option>
                                <option value="1112">11-12</option>
                            </select>
                            <select id="teachername">
                                <option value="0" id="0">请选择教师姓名</option>
                                @*@{
                                        foreach(var item in ViewBag.TeacherName)
                                        {
                                            <option value="@item">@item</option>
                                        }
                                    }*@
                            </select>
                            <select id="classtype">
                                <option value="理论">理论</option>
                                <option value="实验">实验</option>
                            </select>
                        </form>
                    </div><!--po right-->


                    <div>
                        <table class="table table-condensed table-hover table-responsive ove" style="height:60px;">
                            <tr bgcolor="#f5f5f5">
                                <th><p>上课地点</p></th>
                                <th><p>上课内容</p></th>
                                <th><p>上课类型</p></th>
                                <th><p>专业</p></th>
                                <th><p>课程名</p></th>
                                <th><p>课程编号</p></th>
                            </tr>
                            <tr id="classeslist">
                                <td id="address">&nbsp;</td>
                                <td id="classcontent">&nbsp;</td>
                                <td id="classtype">&nbsp;</td>
                                <td id="major">&nbsp;</td>
                                <td id="classname">&nbsp;</td>
                                <td id="cid">&nbsp;</td>
                            </tr>
                        </table>
                        <table id="tablesupervisor1" class="table table-condensed table-hover table-responsive ove table-border table-margin" style="height:60px;width:32.5%;float:left;">
                            <tr id="backgcolor">
                                <th width=2%>
                                    @*<input id="checkall" type="checkbox" name="checkall">*@
                                </th>
                                <th><p style="color:white;">首选督导</p></th>
                                <th><p style="color:white;">安排情况</p></th>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                        <table id="tablesupervisor2" class="table table-condensed table-hover table-responsive ove table-border table-margin" style="height:60px;width:32.5%;float:left;">
                            <tr id="backgcolor">
                                <th width=2%>

                                </th>
                                <th><p style="color:white;">备选督导</p></th>
                                <th><p style="color:white;">总听课数</p></th>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            <tr>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                        <table id="tablesupervisor" class="table table-condensed table-hover table-responsive ove table-border table-margin" style="height:60px;width:22.5%;float:left;">
                            <tr id="backgcolor">
                                <th><p style="color:white;">督导成员</p></th>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                            <tr>
                                <td>&nbsp;</td>
                            </tr>
                        </table>
                        <div class="col-lg-2 col-md-2 col-sm-2 "></div>
                        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-5 ">
                            <button type="button" class="btn btn-default btn-xs" aria-label="Left Align">
                                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            </button>
                            <button type="button" class="btn btn-default btn-xs">
                                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
            <div class="modal-footer ">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary">保存</button>
            </div>
        </div>
    </div>
    <script>
        $(document).ready(function () {
            var findteachername = function (week, day, classnumber) {
                if (week != 0 && day != 0 && classnumber != 0) {
                    $.ajax({
                        url: '/Home/ArrageAddwdc',
                        type: 'post',
                        contentType: 'application/json;charset=utf-8',
                        async: false,
                        data: JSON.stringify({
                            "week": week,
                            "day": day,
                            "classnumber": classnumber,
                        }),
                        success: function (teachernames) {
                            $("#teachername").empty();
                            for (i in teachernames) {
                                $("#teachername").append('<option value="' + teachernames[i] + '">' + teachernames[i] + '</option>');  //添加一项option ;
                            }
                        },
                        error: function () {
                            alert("出错了");
                        }
                    })
                    return true;
                }
                else
                    return false;
            }
            var isallselect = function (week, day, classnumber, teachername, classtype) {
                if (week != 0 && day != 0 && classnumber != 0 && teachername != 0 && classtype != 0) {
                    $.ajax({
                        url: '/Supervisor/ArrageAddallselect',
                        async: false,
                        type: 'post',
                        contentType: 'application/json;charset=utf-8',
                        data: JSON.stringify({
                            "week": week,
                            "day": day,
                            "classnumber": classnumber,
                            "teachername": teachername,
                            "classtype": classtype
                        }),
                        success: function (arrageadd) {

                            $("#classeslist").find("td[id='address']").html(arrageadd.classeslist[0].Address);
                            $("#classeslist").find("td[id='classcontent']").html(arrageadd.classeslist[0].ClassContent);
                            $("#classeslist").find("td[id='classtype']").html(arrageadd.classeslist[0].ClassType);
                            $("#classeslist").find("td[id='major']").html(arrageadd.classeslist[0].Major);
                            $("#classeslist").find("td[id='classname']").html(arrageadd.classeslist[0].ClassName);
                            $("#classeslist").find("td[id='cid']").html(arrageadd.classeslist[0].Cid);//替换 ;

                            $("[id^='tablesupervisor']").find("tr:gt(0)").remove();
                            var tr = "{{#FirstSupervisorList}}<tr name=\"{{ Tid}}\"><td>&nbsp;&nbsp;</td><td>{{ TeacherName}}</td><td>{{ IsArrage}}</td></tr>{{/FirstSupervisorList}}";
                            var tr2 = "{{#SecondSupervisorList}}<tr name=\"{{ Tid}}\"><td>&nbsp;&nbsp;</td><td>{{ TeacherName}}</td><td>{{ Total}}</td></tr>{{/SecondSupervisorList}}";

                            $("#tablesupervisor1 tbody").append(Mustache.render(tr, arrageadd));
                            $("#tablesupervisor2 tbody").append(Mustache.render(tr2, arrageadd));
                            $("#tablesupervisor tbody").append("<tr id=\"shead\"></tr>");

                            //}
                        },
                        error: function () {
                            alert("出错了");
                        }
                    })
                    return true;
                }
                else
                    return false;
            }
            $("select").change(function () {
                var week = $("#week").val();
                var day = $("#day").val();
                var classnumber = $("#classnumber").val();
                var classtype = $("#classtype").val();
                var teachername = $("#teachername").val();
                if (findteachername(week, day, classnumber) == true) {
                    isallselect(week, day, classnumber, teachername, classtype);
                }
            });
        });
    </script>
</div>