
@using PagedList
@using PagedList.Mvc
@model PagedList.IPagedList<WebSupervisor.Models.TeachersModel>
<div class="contain">
    <div class="tab_container">
        <div id="tab1" class="tab_content" style="display: block; ">
            <div class="row">
                <div class="col-lg-3 col-sm-5 col-xs-12">
                    <button type="button" class="button green" onClick="$('#addtr').show()">
                        添加
                    </button>
                    <button type="button" class="button orange" onclick="edite3()";>
                        修改
                    </button>
                    <button type="button" class="button blue" onclick="tsave()";>
                        保存
                    </button>
                </div>
            </div>
            <!-- /.row -->
            <div id="editable3">
                <p>
                </p>
                <form id="formAddTeacher" action="/Home/AddTeacher" method="post">
                    <table class="table table-condensed table-hover table-responsive ove"
                           id="tb1">
                        <tr bgcolor="#f5f5f5">
                            <th width=2%>
                                <input type="checkbox" name="checkall">
                            </th>
                            <th>
                                <p>
                                    教师号
                                </p>
                            </th>
                            <th>
                                <p>
                                    教师姓名
                                </p>
                            </th>
                            <th>
                                <p>
                                    职称
                                </p>
                            </th>
                            <th>
                                <p>
                                    教研室
                                </p>
                            </th>
                            <th>
                                <p>
                                    联系电话
                                </p>
                            </th>
                            <th>
                                <p>
                                    邮箱
                                </p>
                            </th>
                            <th>
                                <p>
                                    是否督导
                                </p>
                            </th>
                            <th>
                                <p>
                                    审核状态
                                </p>
                            </th>
                        </tr>
                        <tr id="addtr" style="display:none">
                            <td>
                                &nbsp;
                            </td>
                            <td>
                                <input type="text" id="teacherNo" name="teacherNo" />
                            </td>
                            <td>
                                <input type="text" id="teacherName" name="teacherName" />
                            </td>
                            <td>
                                <input type="text" id="teacherTitle" name="teacherTitle" />
                            </td>
                            <td>
                                <input type="text" id="teacherRoom" name="teacherRoom"  />
                            </td>
                            <td>
                                <input type="text" id="teacherTel" name="teacherTel" />
                            </td>
                            <td>
                                <input type="text" id="teacherEmail" name="teacherEmail" />
                            </td>
                            <td>
                                <input type="checkbox" name="checkall">
                            </td>
                            <td>
                                <input type="button" id="btnsubmit" value="添加" class="teacherbtn blue"/>
                                <input type="button" id="btncancel" value="取消" class="teacherbtn red"/>
                            </td>
                        </tr>
                       @Html.Partial("TeacherList",Model);
                    </table>
                    <input type="hidden" id="islimit" value=1 name="islimit" />
                    <input type="hidden" id="college" value=@Session[ "College"] name="college" />
                </form>
                <script type="text/javascript">
					
                    $(function () {
                        $(":input[name='teacherEmail']").blur(function () {
                            var email = $(this).val();
                            var reg = /\w+[@@]{1}\w+[.]\w+/;
                            if (reg.test(email)) {
                                $("#btnsubmit").removeAttr("disabled");//将按钮可用
                            } else {
                                $(":input[name='teacherEmail']").val("请输入正确的email地址");
                                $("#btnsubmit").attr("disabled", "disabled"); // 禁用
                            }
                        });
                    });
                </script>
            </div>
            <!-- /.table -->
           
        </div>
    </div>
</div>
<script>
    //教师信息按钮 保存
    function tsave() {
        swal({
            title: "已保存",//放js显示乱码 所以放这里
            timer: 1500,
            showConfirmButton: false,
            type: "success"
        });
        document.getElementById("editable3").contentEditable = "false";
    };
</script>